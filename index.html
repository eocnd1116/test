<!-- ✅ 모듈 방식: type="module" 하나만 사용 -->
<script type="module">
  import { initializeApp } from "https://www.gstatic.com/firebasejs/11.8.1/firebase-app.js";
  import { getDatabase, ref, set, onValue } from "https://www.gstatic.com/firebasejs/11.8.1/firebase-database.js";

  const firebaseConfig = {
    apiKey: "AIzaSyCuiqB5e_UC9t3SGYY4WRqt9FWED4ha98U",
    authDomain: "asdf-dc75f.firebaseapp.com",
    projectId: "asdf-dc75f",
    storageBucket: "asdf-dc75f.firebasestorage.app",
    messagingSenderId: "1063562131981",
    appId: "1:1063562131981:web:dfbe741210a85736bdf344"
  };

  const app = initializeApp(firebaseConfig);
  const db = getDatabase(app);

  // 데이터 쓰기
  const writeData = (userId, item) => {
    set(ref(db, 'users/' + userId), {
      item0: item[0],
      item1: item[1],
      item2: item[2],
      item3: item[3],
      item4: item[4],
    });
  };

  // 데이터 읽기
  const readData = (userId) => {
    const userRef = ref(db, 'users/' + userId);
    onValue(userRef, (snapshot) => {
      const data = snapshot.val();
      console.log("데이터 읽기:", data);
      document.getElementById("output").innerText = JSON.stringify(data);
    });
  };

  // 버튼과 연결
  window.saveData = () => {
    const sampleData = ["apple", "banana", "cherry", "date", "elderberry"];
    writeData("user1", sampleData);
    readData("user1");
  };
</script>

<button onclick="saveData()">저장</button>
<div id="output">데이터 없음</div>
